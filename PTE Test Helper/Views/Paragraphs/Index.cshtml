@model IEnumerable<PTE_Test_Helper.Models.Paragraph>

@{
    ViewData["Title"] = "Index";
}

@{
    var nextArticleId = Model.First().ParentId + 1;
}

<div class="row">
    <div class="col-md-6"><a asp-controller="RO" asp-action="Index" class="float-left btn btn-outline-secondary">返回</a></div>
    <div class="col-md-6"><a asp-controller="Paragraphs" asp-action="Index" asp-route-pid="@nextArticleId" class="float-right btn btn-outline-success">下一题</a></div>
</div>

@foreach (var item in Model)
{
    <div class="row">
        <div class="col-lg-6">
            <div ondrop="drop(event)" ondragover="allowDrop(event)" class="drag-area">
                <div draggable="true" ondragstart="drag(event)" id="drag-@item.ID">@Html.DisplayFor(modelItem => item.Content)</div>
            </div>
        </div>
        <div class="col-lg-6">
            <div ondrop="drop(event)" ondragover="allowDrop(event)" class="drag-area"></div>
        </div>
    </div>
}

<script>
    function allowDrop(ev) {
        ev.preventDefault();
    }

    function drag(ev) {
        ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
        ev.preventDefault();
        var data = ev.dataTransfer.getData("text");
        ev.target.appendChild(document.getElementById(data));
    }
</script>